"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[170],{170:function(e,s,t){t.r(s),t.d(s,{default:function(){return x}});var n=t(907);var r=t(181);function l(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=t(885),i=t(791),u=t(754),c=t(184),f=function(e){var s=e.message,t=e.name;return(0,c.jsxs)("div",{className:"self-start flex flex-col justify-start mb-2 max-w-[400px]",children:[(0,c.jsx)("small",{className:"text-[.7rem] text-slate-300 self-start ml-1 mb-1",children:null!==t&&void 0!==t?t:"User"}),(0,c.jsx)("div",{className:"bg-slate-500 rounded-2xl px-4 py-2 self-start flex flex-col",children:null!==s&&void 0!==s?s:(0,c.jsxs)("i",{className:"text-sm",children:["Message from ",null!==t&&void 0!==t?t:"User"]})})]})},o=function(e){var s=e.message,t=e.name;return(0,c.jsxs)("div",{className:"self-end flex flex-col justify-end mb-2 max-w-[400px]",children:[(0,c.jsx)("small",{className:"text-2xs text-slate-300 self-end mr-1 mb-1",children:null!==t&&void 0!==t?t:"User"}),(0,c.jsx)("div",{className:"bg-purple rounded-2xl px-4 py-2 self-end flex flex-col",children:null!==s&&void 0!==s?s:(0,c.jsxs)("i",{className:"text-sm",children:["Message from ",null!==t&&void 0!==t?t:"User"]})})]})},m=function(e){var s=e.username;return(0,c.jsxs)("div",{className:"self-start  flex flex-col   justify-center items-center mb-2 max-w-[400px]",children:[(0,c.jsx)("small",{className:"text-[.7rem] text-slate-300 self-start ml-1 mb-1",children:null!==s&&void 0!==s?s:"User"}),(0,c.jsx)("div",{className:"bg-slate-500 rounded-2xl px-4 py-2 self-start flex gap-3  justify-center align-center",children:(0,c.jsxs)("i",{className:"xs text-slate-200",children:[s," is typing..."]})})]})},x=function(){var e=(0,i.useState)([]),s=(0,a.Z)(e,2),t=s[0],n=s[1],r=(0,i.useState)({state:!1,username:""}),x=(0,a.Z)(r,2),d=x[0],v=x[1];(0,i.useEffect)((function(){return u.Z.on("message",(function(e){n([].concat(l(t),[e])),p()})),function(){u.Z.off("message")}})),(0,i.useEffect)((function(){return u.Z.on("server_message",(function(e){n([].concat(l(t),[e])),p()})),function(){u.Z.off("server_message")}})),(0,i.useEffect)((function(){return u.Z.on("user-typing",(function(e){var s=e.username;v({state:!0,username:s}),p()})),function(){u.Z.off("user-typing")}})),(0,i.useEffect)((function(){return u.Z.on("user-typing-blurred",(function(e){e.username;v({state:!1,username:""}),p()})),function(){u.Z.off("user-typing-blurred")}}));var p=function(){return h.current.scrollIntoView({behavior:"smooth"})},h=(0,i.useRef)(null);return(0,c.jsxs)("main",{className:"bg-slate-700 overflow-y-scroll overflow-x-hidden p-3 pb-8 flex flex-1 flex-col scrollbar-hide rounded-lg transition-all",children:[t.map((function(e){return e.serverMessage?(0,c.jsx)("div",{className:"text-center text-sm text-white/50",children:e.text}):e.self?(0,c.jsx)(o,{message:e.text,name:e.username},e.text):(0,c.jsx)(f,{message:e.text,name:e.username},e.text)})),d.state&&(0,c.jsx)(m,{username:d.username}),(0,c.jsx)("span",{ref:h})]})}}}]);
//# sourceMappingURL=170.4fedf7fb.chunk.js.map