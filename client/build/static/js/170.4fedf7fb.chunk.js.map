{"version":3,"file":"static/js/170.4fedf7fb.chunk.js","mappings":"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","sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/ReceivedMessage.tsx","components/SentMessage.tsx","components/Typing.tsx","components/Conversation.tsx"],"sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\n\nconst ReceivedMessage = ({\n  message,\n  name,\n}: {\n  message?: string;\n  name?: string;\n}) => {\n  return (\n    <div className=\"self-start flex flex-col justify-start mb-2 max-w-[400px]\">\n      <small className=\"text-[.7rem] text-slate-300 self-start ml-1 mb-1\">\n        {name ?? \"User\"}\n      </small>\n      <div className=\"bg-slate-500 rounded-2xl px-4 py-2 self-start flex flex-col\">\n        {message ?? <i className=\"text-sm\">Message from {name ?? \"User\"}</i>}\n      </div>\n    </div>\n  );\n};\n\nexport default ReceivedMessage;\n","import React from \"react\";\n\nconst SentMessage = ({\n  message,\n  name,\n}: {\n  message?: string;\n  name?: string | number;\n}) => {\n  return (\n    <div className=\"self-end flex flex-col justify-end mb-2 max-w-[400px]\">\n      <small className=\"text-2xs text-slate-300 self-end mr-1 mb-1\">\n        {name ?? \"User\"}\n      </small>\n      <div className=\"bg-purple rounded-2xl px-4 py-2 self-end flex flex-col\">\n        {message ?? <i className=\"text-sm\">Message from {name ?? \"User\"}</i>}\n      </div>\n    </div>\n  );\n};\n\nexport default SentMessage;\n","import React from \"react\";\n\nconst Typing = ({ username }: { username: string }) => {\n  return (\n    <div className=\"self-start  flex flex-col   justify-center items-center mb-2 max-w-[400px]\">\n      <small className=\"text-[.7rem] text-slate-300 self-start ml-1 mb-1\">\n        {username ?? \"User\"}\n      </small>\n      <div className=\"bg-slate-500 rounded-2xl px-4 py-2 self-start flex gap-3  justify-center align-center\">\n        <i className=\"xs text-slate-200\">{username} is typing...</i>\n      </div>\n    </div>\n  );\n};\n\nexport default Typing;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport socket from \"../utils/Socket\";\nimport ReceivedMessage from \"./ReceivedMessage\";\nimport SentMessage from \"./SentMessage\";\nimport Typing from \"./Typing\";\n\nconst Conversation = () => {\n  const [messages, setMessages] = useState<\n    {\n      text: string;\n      id: string;\n      self: boolean;\n      serverMessage: boolean;\n      username: string;\n    }[]\n  >([]);\n  const [isTyping, setTyping] = useState({ state: false, username: \"\" });\n  useEffect(() => {\n    socket.on(\"message\", (message) => {\n      setMessages([...messages, message]);\n      scrollToBottom();\n    });\n\n    return () => {\n      socket.off(\"message\");\n    };\n  });\n\n  useEffect(() => {\n    socket.on(\"server_message\", (message) => {\n      setMessages([...messages, message]);\n      scrollToBottom();\n    });\n\n    return () => {\n      socket.off(\"server_message\");\n    };\n  });\n\n  useEffect(() => {\n    socket.on(\"user-typing\", ({ username }: { username: string }) => {\n      setTyping({\n        state: true,\n        username: username,\n      });\n      scrollToBottom();\n    });\n\n    return () => {\n      socket.off(\"user-typing\");\n    };\n  });\n  useEffect(() => {\n    socket.on(\"user-typing-blurred\", ({ username }: { username: string }) => {\n      setTyping({\n        state: false,\n        username: \"\",\n      });\n      scrollToBottom();\n    });\n\n    return () => {\n      socket.off(\"user-typing-blurred\");\n    };\n  });\n\n  const scrollToBottom = () =>\n    conversationViewRef.current.scrollIntoView({\n      behavior: \"smooth\",\n    });\n  const conversationViewRef = useRef<any>(null);\n  return (\n    <main className=\"bg-slate-700 overflow-y-scroll overflow-x-hidden p-3 pb-8 flex flex-1 flex-col scrollbar-hide rounded-lg transition-all\">\n      {messages.map(\n        (message: {\n          text: string;\n          id: string;\n          self: boolean;\n          serverMessage: boolean;\n          username: string;\n        }) =>\n          message.serverMessage ? (\n            <div className=\"text-center text-sm text-white/50\">\n              {message.text}\n            </div>\n          ) : message.self ? (\n            <SentMessage\n              message={message.text}\n              key={message.text}\n              name={message.username}\n            />\n          ) : (\n            <ReceivedMessage\n              message={message.text}\n              key={message.text}\n              name={message.username}\n            />\n          )\n      )}\n      {isTyping.state && <Typing username={isTyping.username} />}\n      <span ref={conversationViewRef}></span>\n    </main>\n  );\n};\n\nexport default Conversation;\n"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","message","name","className","username","useState","messages","setMessages","state","isTyping","setTyping","useEffect","socket","scrollToBottom","conversationViewRef","current","scrollIntoView","behavior","useRef","map","serverMessage","text","self","ref"],"sourceRoot":""}